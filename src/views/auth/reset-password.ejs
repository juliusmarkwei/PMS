<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Reset Password</title>
        <script src="https://cdn.tailwindcss.com"></script>
    </head>
    <body>
        <section class="py-10 h-dvh bg-gray-50 pt-44">
            <div class="px-4 mx-auto max-w-7xl sm:px-6">
                <div
                    class="max-w-2xl mx-auto flex flex-col justify-center items-center"
                >
                    <h2
                        class="text-2xl font-bold leading-tight text-black sm:text-4xl lg:text-5xl"
                    >
                        Reset Your Password
                    </h2>
                    <p
                        class="max-w-xl mx-auto mt-4 text-base leading-relaxed text-gray-600 text-center"
                    >
                        Please enter your new password below to complete the
                        reset process.
                    </p>
                </div>

                <div class="relative max-w-md mx-auto mt-8">
                    <div class="overflow-hidden bg-white rounded-md shadow-md">
                        <div class="px-4 py-6 sm:px-8 sm:py-7">
                            <form action="/auth/reset-password" method="POST">
                                <div class="space-y-5">
                                    <!-- New Password Field -->
                                    <div>
                                        <div
                                            class="mt-2.5 relative text-gray-400 focus-within:text-gray-600"
                                        >
                                            <div
                                                class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"
                                            >
                                                <svg
                                                    xmlns="http://www.w3.org/2000/svg"
                                                    fill="none"
                                                    viewBox="0 0 24 24"
                                                    stroke-width="1.5"
                                                    stroke="currentColor"
                                                    class="w-5 h-5"
                                                >
                                                    <path
                                                        stroke-linecap="round"
                                                        stroke-linejoin="round"
                                                        d="M7.864 4.243A7.5 7.5 0 0 1 19.5 10.5c0 2.92-.556 5.709-1.568 8.268M5.742 6.364A7.465 7.465 0 0 0 4.5 10.5a7.464 7.464 0 0 1-1.15 3.993m1.989 3.559A11.209 11.209 0 0 0 8.25 10.5a3.75 3.75 0 1 1 7.5 0c0 .527-.021 1.049-.064 1.565M12 10.5a14.94 14.94 0 0 1-3.6 9.75m6.633-4.596a18.666 18.666 0 0 1-2.485 5.33"
                                                    />
                                                </svg>
                                            </div>

                                            <input
                                                type="password"
                                                name="password"
                                                placeholder="New Password"
                                                class="block w-full py-4 pl-10 outline-none pr-4 text-black placeholder-gray-500 transition-all duration-200 border border-gray-200 rounded-lg bg-gray-50 caret-[#b949bf] focus:border-[#b949bf] focus:bg-white focus:ring-1 focus:ring-[#b949bf]"
                                                required
                                            />
                                        </div>
                                    </div>

                                    <!-- Confirm Password Field -->
                                    <div>
                                        <div
                                            class="mt-2.5 relative text-gray-400 focus-within:text-gray-600"
                                        >
                                            <div
                                                class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"
                                            >
                                                <svg
                                                    xmlns="http://www.w3.org/2000/svg"
                                                    fill="none"
                                                    viewBox="0 0 24 24"
                                                    stroke-width="1.5"
                                                    stroke="currentColor"
                                                    class="w-5 h-5"
                                                >
                                                    <path
                                                        stroke-linecap="round"
                                                        stroke-linejoin="round"
                                                        d="M7.864 4.243A7.5 7.5 0 0 1 19.5 10.5c0 2.92-.556 5.709-1.568 8.268M5.742 6.364A7.465 7.465 0 0 0 4.5 10.5a7.464 7.464 0 0 1-1.15 3.993m1.989 3.559A11.209 11.209 0 0 0 8.25 10.5a3.75 3.75 0 1 1 7.5 0c0 .527-.021 1.049-.064 1.565M12 10.5a14.94 14.94 0 0 1-3.6 9.75m6.633-4.596a18.666 18.666 0 0 1-2.485 5.33"
                                                    />
                                                </svg>
                                            </div>

                                            <input
                                                type="password"
                                                name="confirmPassword"
                                                placeholder="Confirm Password"
                                                class="block w-full py-4 pl-10 outline-none pr-4 text-black placeholder-gray-500 transition-all duration-200 border border-gray-200 rounded-lg bg-gray-50 caret-[#b949bf] focus:border-[#b949bf] focus:bg-white focus:ring-1 focus:ring-[#b949bf]"
                                                required
                                            />
                                        </div>
                                    </div>

                                    <!-- Submit Button -->
                                    <div class="pt-4">
                                        <button
                                            type="submit"
                                            class="w-full py-3 bg-[#c05bc6] text-white font-bold text-lg rounded-lg focus:outline-none focus:ring-2 hover:bg-[#b949bf] focus:ring-[#b949bf]"
                                        >
                                            Reset Password
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <script>
            const urlParams = new URLSearchParams(window.location.search);
            const token = urlParams.get("token");

            if (!token) {
                window.location.href =
                    "/auth/forgot-password?error=Invalid token";
            }

            const form = document.querySelector("form");
            form.action = `/auth/reset-password?token=${token}`;
        </script>
    </body>
</html>
